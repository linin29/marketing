<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.tunicorn.marketing.mapper.ErrorCorrectionDetailMapper">
	<resultMap id="TaskResultMap" type="com.tunicorn.marketing.vo.ErrorCorrectionDetailVO">
		<result column="id" property="id" jdbcType="VARCHAR" />
		<result column="major_type" property="majorType" jdbcType="VARCHAR" />
		<result column="image_path" property="imagePath" jdbcType="VARCHAR" />
		<result column="file_path" property="filePath" jdbcType="VARCHAR" />
		<result column="create_time" property="createTime" javaType="java.sql.Timestamp" jdbcType="TIMESTAMP" />
		<result column="last_update" property="lastUpdateTime" javaType="java.sql.Date" jdbcType="TIMESTAMP" />
		<result column="status" property="status" jdbcType="VARCHAR" />
	</resultMap>
	
	<insert id="createErrorCorrectionDetail" parameterType="com.tunicorn.marketing.vo.ErrorCorrectionDetailVO">
    insert into `error_correction_detail`
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        id,
      </if>
      <if test="majorType != null" >
        major_type,
       </if>
      <if test="imagePath != null" >
        image_path,
      </if>
      <if test="filePath != null" >
        file_path,
      </if>
        create_time,
      <if test="lastUpdateTime != null" >
        last_update,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=VARCHAR},
      </if>
      <if test="majorType != null" >
        #{majorType,jdbcType=VARCHAR},
      </if>
      <if test="imagePath != null" >
        #{imagePath,jdbcType=VARCHAR},
      </if>
      <if test="filePath != null" >
        #{filePath,jdbcType=VARCHAR},
      </if>
        now(),
      <if test="lastUpdateTime != null" >
        #{lastUpdateTime,jdbcType=TIMESTAMP},
      </if>
    </trim>
  </insert>
  
  <delete id="batchDeleteErrorCorrectionDetail" parameterType="java.util.List">  
    delete from `error_correction_detail` where id in  
    <foreach collection="list" index="index" item="item" open="(" separator="," close=")">   
        #{item.id}   
    </foreach>  
</delete>
</mapper>